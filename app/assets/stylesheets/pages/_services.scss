// services colors //
$services-default: transparentize(#fff, 0.6);
$services-primary: transparentize($brand-primary, 0.65);
$services-secondary: transparentize($brand-secondary, 0.3);
$services-color-three: transparentize($color-three, 0.8);
$services-banner-color: transparentize(#111, 0.25);
$services-border-color: transparentize(#fff, 0.8);

#services-block {
  position: relative;
  padding-top: 1.5rem;
  margin-bottom: 1rem;
  background-image: linear-gradient(180deg, transparent 0%, transparent 70%, transparentize(#131313, 0.1) 95%, #131313 100%);
  background-position: bottom;
  outline: solid 1px $services-border-color;
  outline-offset: -1rem;
  @include media-breakpoint-up(md) {
    outline-offset: -2rem;
  }
  h2 {
    text-align: center;
    display: flex;
    flex-flow: column nowrap;
    align-items: center;
    font-weight: 700;
    font-size: 2.5em;
    letter-spacing: 3px;
    color: $services-secondary;
    @extend .m-a-0;
    @include media-breakpoint-down(sm) {
      font-size: 1.5rem;
    }
  }
  p {
    text-align: center;
    width: 75%;
    font-weight: 400;
    color: $services-default;
    margin: 0;
    font-size: 1.15em;
    letter-spacing: 0;
    @include media-breakpoint-down(sm) {
      font-size: 1.1rem;
    }
  }
  .inner-block {
    padding: 0 5rem;
  }
}
.services-column {
  display: flex;
  flex-flow: column nowrap;
  align-items: center;
  margin: 1rem 0;
  small {
    display: block;
    width: 4rem;
    height: 4rem;
    position: relative;
    margin: 2rem;
    &:before {
      content: "";
      width: inherit;
      height: inherit;
      position: absolute;
      top: 0;
      left: 0;
      transform: rotate(45deg);
      background-color: $services-primary;
      outline: solid 1px transparentize(#111, 0.65);
      outline-offset: -0.5rem;
    }
    &:after {
      content: attr(data-num);
      display: flex;
      justify-content: center;
      align-items: center;
      width: inherit;
      height: inherit;
      position: absolute;
      color: transparentize(#111, 0.5);
      font-weight: 400;
      font-size: 0.85em;
    }
  }
}

.service-arrows {
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-around;
  padding: 0 5rem;
  .arrow {
    width: 35%;
  }
}
.services-svg-arrow {
  fill: transparentize($color-three, 0.5);
  flex: 1;
}

.services-img {
  opacity: 0.4;
  width: 10rem;
  height: 10rem;
  display: block;
  margin: 5rem auto 1rem auto;
  @include media-breakpoint-up(md) {
    width: 14rem;
    height: 14rem;
  }
  @include media-breakpoint-up(lg) {
    width: 16rem;
    height: 16rem;
  }
}

@mixin banner($font-size, $font-size-modifier, $padding-x, $padding-y, $pseudo-top, $font-color, $bg-color) {
  $font-size-xs: $font-size - $font-size-modifier * 3.25;
  $font-size-sm: $font-size - $font-size-modifier * 3;
  $font-size-md: $font-size - $font-size-modifier * 2;
  $font-size-lg: $font-size;
  $border-size-xs: ($font-size-xs + $padding-x * 2) / 2;
  $border-size-sm: ($font-size-sm + $padding-x * 2) / 2;
  $border-size-md: ($font-size-md + $padding-x * 2) / 2;
  $border-size-lg: ($font-size-lg + $padding-x * 2) / 2;
  position: relative;
  padding: $padding-x $padding-y;
  background: $bg-color;
  color: $font-color;
  font-size: $font-size-xs;
  text-align: center;
  line-height: 1;
  transform: skewY(-5deg);
  @include media-breakpoint-up(sm) {
    font-size: $font-size-sm;
  }
  @include media-breakpoint-up(md) {
    font-size: $font-size-md;
  }
  @include media-breakpoint-up(lg) {
    font-size: $font-size-lg;
  }
  &:before {
    display: block;
    position: absolute;
    top: $pseudo-top * 0.5;
    left: -$border-size-xs * 2 - 0.0625rem;
    height: 0;
    width: 0;
    content: "";
    border-top: $border-size-xs solid $bg-color;
    border-bottom: $border-size-xs solid $bg-color;
    border-right: $border-size-xs solid $bg-color;
    border-left: $border-size-xs solid transparent;
    @include media-breakpoint-up(sm) {
      top: $pseudo-top;
      left: -$border-size-sm * 2 - 0.125rem;
      border-top: $border-size-sm solid $bg-color;
      border-bottom: $border-size-sm solid $bg-color;
      border-right: $border-size-sm solid $bg-color;
      border-left: $border-size-sm solid transparent;
    }
    @include media-breakpoint-up(md) {
      left: -$border-size-md * 2 - 0.125rem;
      border-top: $border-size-md solid $bg-color;
      border-bottom: $border-size-md solid $bg-color;
      border-right: $border-size-md solid $bg-color;
      border-left: $border-size-md solid transparent;
    }
    @include media-breakpoint-up(lg) {
      left: -$border-size-lg * 2 - 0.125rem;
      border-top: $border-size-lg solid $bg-color;
      border-bottom: $border-size-lg solid $bg-color;
      border-right: $border-size-lg solid $bg-color;
      border-left: $border-size-lg solid transparent;
    }
  }
  &:after {
    display: block;
    position: absolute;
    top: $pseudo-top * 0.5;
    right: -$border-size-xs * 2 - 0.0625rem;
    height: 0;
    width: 0;
    content: "";
    border-top: $border-size-xs solid $bg-color;
    border-bottom: $border-size-xs solid $bg-color;
    border-right: $border-size-xs solid transparent;
    border-left: $border-size-xs solid $bg-color;
    @include media-breakpoint-up(sm) {
      top: $pseudo-top;
      right: -$border-size-sm * 2 - 0.125rem;
      border-top: $border-size-sm solid $bg-color;
      border-bottom: $border-size-sm solid $bg-color;
      border-right: $border-size-sm solid transparent;
      border-left: $border-size-sm solid $bg-color;
    }
    @include media-breakpoint-up(md) {
      right: -$border-size-md * 2 - 0.125rem;
      border-top: $border-size-md solid $bg-color;
      border-bottom: $border-size-md solid $bg-color;
      border-right: $border-size-md solid transparent;
      border-left: $border-size-md solid $bg-color;
    }
    @include media-breakpoint-up(lg) {
      right: -$border-size-lg * 2 - 0.125rem;
      border-top: $border-size-lg solid $bg-color;
      border-bottom: $border-size-lg solid $bg-color;
      border-right: $border-size-lg solid transparent;
      border-left: $border-size-lg solid $bg-color;
    }
  }
}

.services-banner-lg {
  @include banner(4rem, 0.75, 1rem, 3rem, 0.5rem, $services-banner-color, $services-default );
  margin: 2rem auto 2rem auto;
  font-weight: 700;
  @include media-breakpoint-up(md) {
    margin: 2rem auto 5rem auto;
  }
}

.services-banner-sm {
  @include banner(1.5rem, 0.25, 1rem, 1rem, 0.5rem, $services-banner-color, $services-color-three );
  margin: 1rem auto;
  font-weight: 700;
  width: 60%;
  @include media-breakpoint-up(md) {
    width: 50%;
  }
  @include media-breakpoint-up(lg) {
    width: 40%;
  }
}

.gradient-end {
  width: 100%;
  height: 5rem;
  background: #131313;
  margin-top: 4rem;
}

.services-banner-wrap {
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center;
}

.outer-hr {
  transform: rotate(-5deg);
  border-top: solid 1px $services-border-color;
  margin: 2rem auto;
  width: 70%;
  @include media-breakpoint-up(md) {
    width: 90%;
    margin: 4rem auto;
  }
}
.inner-hr {
  border-top: solid 2px $services-color-three;
  width: 50%;
}
